{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;ACC+B;AACkC;AACR;AACK;AACH;AACD;AAE1D,SAASe,aAAaA,CAAA,EAAG;EACvB,MAAMC,OAAO,GAAGP,0DAAS,CACrBQ,MAAM,IAAMA,MAAM,CAAEJ,qDAAa,CAAC,CAACK,UAAU,CAAC,CAAC,EACjD,EACF,CAAC;EACD,MAAM;IAAEC;EAAa,CAAC,GAAGT,4DAAW,CAAEG,qDAAa,CAAC;EACpD,MAAMO,eAAe,GAAGJ,OAAO,CAACK,MAAM,CACpC,CAAE;IAAEC;EAAK,CAAC,KAAMA,IAAI,KAAK,UAC3B,CAAC;EACD,OACEC,iEAAA,CAACrB,+DAAY;IACXc,OAAO,EAAGI,eAAiB;IAC3BI,SAAS,EAAC,qCAAqC;IAC/CC,QAAQ,EAAGN;EAAc,CAC1B,CAAC;AAEN;AAEA,MAAMO,gBAAgB,GAAGA,CAAE;EAAEC;AAAO,CAAC,KAAM;EACzC,MAAM;IAAEC,mBAAmB;IAAEC;EAAkB,CAAC,GAC9CnB,4DAAW,CAAEG,qDAAa,CAAC;EAC7B;EACA;EACA,MAAM;IAAEiB;EAAyB,CAAC,GAAGrB,0DAAS,CAAEG,uDAAc,CAAC;EAC/D,MAAMmB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMC,OAAO,GAAG,MAAMC,kBAAkB,CAAE,UAAU,EAAE,MAAM,EAAEN,MAAO,CAAC;IACtE,IAAKK,OAAO,EAAG;MACb;MACAJ,mBAAmB,CAAE,uBAAuB,EAAE;QAC5CN,IAAI,EAAE;MACR,CAAE,CAAC;IACL,CAAC,MAAM;MACL;MACA;MACA,MAAMY,SAAS,GAAGJ,wBAAwB,CACxC,UAAU,EACV,MAAM,EACNH,MACF,CAAC;MACD,MAAMQ,OAAO,GACX,CAAED,SAAS,EAAEC,OAAO,IAAI,qBAAqB,IAC7C,yCAAyC;MAC3C;MACAN,iBAAiB,CAAEM,OAAO,EAAE;QAC1Bb,IAAI,EAAE;MACR,CAAE,CAAC;IACL;EACF,CAAC;EACD,MAAM;IAAEW;EAAmB,CAAC,GAAGvB,4DAAW,CAAEE,uDAAc,CAAC;EAC3D,MAAM;IAAEwB,UAAU;IAAEC;EAAM,CAAC,GAAG5B,0DAAS,CACnCQ,MAAM,KAAQ;IACdmB,UAAU,EAAEnB,MAAM,CAAEL,uDAAc,CAAC,CAAC0B,sBAAsB,CACxD,UAAU,EACV,MAAM,EACNX,MACF,CAAC;IACDU,KAAK,EAAEpB,MAAM,CAAEL,uDAAc,CAAC,CAACkB,wBAAwB,CACrD,UAAU,EACV,MAAM,EACNH,MACF;EACF,CAAC,CAAE,EACH,CAAEA,MAAM,CACV,CAAC;EACDrB,6DAAS,CAAE,MAAM;IACf,IAAK+B,KAAK,EAAG;MACX;IAAA;EAEJ,CAAC,EAAE,CAAEA,KAAK,CAAG,CAAC;EACd,OACEd,iEAAA,CAACpB,yDAAM;IACLoC,OAAO,EAAC,SAAS;IACjBC,OAAO,EAAGT,YAAc;IACxBU,QAAQ,EAAGL;EAAY,GAErBA,UAAU,GACVb,iEAAA,CAAAmB,wDAAA,QACEnB,iEAAA,CAACtB,0DAAO,MAAE,CAAC,eAEX,CAAC,GAEH,QAEI,CAAC;AAEb,CAAC;AAED,SAAS0C,gBAAgBA,CAAA,EAAG;EAC1B,MAAM,CAAEC,MAAM,EAAEC,OAAO,CAAE,GAAGtC,4DAAQ,CAAE,KAAM,CAAC;EAC7C,MAAMuC,SAAS,GAAGA,CAAA,KAAMD,OAAO,CAAE,IAAK,CAAC;EACvC,MAAME,UAAU,GAAGA,CAAA,KAAMF,OAAO,CAAE,KAAM,CAAC;EACzC,OACEtB,iEAAA,CAAAmB,wDAAA,QACEnB,iEAAA,CAACpB,yDAAM;IAACqC,OAAO,EAAGM,SAAW;IAACP,OAAO,EAAC;EAAS,GAAC,mBAExC,CAAC,EACPK,MAAM,IACNrB,iEAAA,CAACnB,wDAAK;IAAC4C,cAAc,EAAGD,UAAY;IAACE,KAAK,EAAC;EAAmB,GAC5D1B,iEAAA,CAAC2B,cAAc;IACbC,QAAQ,EAAGJ,UAAY;IACvBK,cAAc,EAAGL;EAAY,CAC9B,CACI,CAET,CAAC;AAEP;AAEA,SAASG,cAAcA,CAAE;EAAEC,QAAQ;EAAEC;AAAe,CAAC,EAAG;EACtD,MAAM,CAAEH,KAAK,EAAEI,QAAQ,CAAE,GAAG9C,4DAAQ,CAAC,CAAC;EACtC,MAAM;IAAE+C;EAAiB,CAAC,GAAG5C,4DAAW,CAAEE,uDAAc,CAAC;EACzD,MAAM2C,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,WAAW,GAAG,MAAMF,gBAAgB,CAAE,UAAU,EAAE,MAAM,EAAE;MAC9DL,KAAK;MACLQ,MAAM,EAAE;IACV,CAAE,CAAC;IACH,IAAKD,WAAW,EAAG;MACjBJ,cAAc,CAAC,CAAC;IAClB;EACF,CAAC;EACD,MAAM;IAAElB,SAAS;IAAEwB;EAAS,CAAC,GAAGjD,0DAAS,CACrCQ,MAAM,KAAQ;IACd;IACAiB,SAAS,EAAEjB,MAAM,CAAEL,uDAAc,CAAC,CAAC+C,sBAAsB,CACvD,UAAU,EACV,MACF,CAAC;IACD;IACAD,QAAQ,EAAEzC,MAAM,CAAEL,uDAAc,CAAC,CAACgD,oBAAoB,CACpD,UAAU,EACV,MACF;EACF,CAAC,CAAE,EACH,EACF,CAAC;EACD,OACErC,iEAAA,CAACsC,QAAQ;IACPZ,KAAK,EAAGA,KAAO;IACfa,aAAa,EAAGT,QAAU;IAC1BU,QAAQ,EAAG,CAAC,CAAEd,KAAO;IACrBf,SAAS,EAAGA,SAAW;IACvBwB,QAAQ,EAAGA,QAAU;IACrBM,MAAM,EAAGT,UAAY;IACrBJ,QAAQ,EAAGA;EAAU,CACtB,CAAC;AAEN;AAEA,SAASc,YAAYA,CAAE;EAAEtC,MAAM;EAAEwB,QAAQ;EAAEC;AAAe,CAAC,EAAG;EAC5D,MAAM;IAAEc;EAAiB,CAAC,GAAGxD,4DAAW,CAAEE,uDAAc,CAAC;EACzD,MAAMuD,YAAY,GAAKlB,KAAK,IAC1BiB,gBAAgB,CAAE,UAAU,EAAE,MAAM,EAAEvC,MAAM,EAAE;IAAEsB;EAAM,CAAE,CAAC;EAC3D,MAAM;IAAEmB;EAAuB,CAAC,GAAG1D,4DAAW,CAAEE,uDAAc,CAAC;EAC/D,MAAM2C,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMc,aAAa,GAAG,MAAMD,sBAAsB,CAChD,UAAU,EACV,MAAM,EACNzC,MACF,CAAC;IACD,IAAK0C,aAAa,EAAG;MACnBjB,cAAc,CAAC,CAAC;IAClB;EACF,CAAC;EACD,MAAM;IAAElB,SAAS;IAAEoC,IAAI;IAAEZ,QAAQ;IAAEK;EAAS,CAAC,GAAGtD,0DAAS,CACrDQ,MAAM,KAAQ;IACdqD,IAAI,EAAErD,MAAM,CAAEL,uDAAc,CAAC,CAAC2D,qBAAqB,CACjD,UAAU,EACV,MAAM,EACN5C,MACF,CAAC;IACDO,SAAS,EAAEjB,MAAM,CAAEL,uDAAc,CAAC,CAAC+C,sBAAsB,CACvD,UAAU,EACV,MAAM,EACNhC,MACF,CAAC;IACD+B,QAAQ,EAAEzC,MAAM,CAAEL,uDAAc,CAAC,CAACgD,oBAAoB,CACpD,UAAU,EACV,MAAM,EACNjC,MACF,CAAC;IACDoC,QAAQ,EAAE9C,MAAM,CAAEL,uDAAc,CAAC,CAAC4D,uBAAuB,CACvD,UAAU,EACV,MAAM,EACN7C,MACF;EACF,CAAC,CAAE,EACH,CAAEA,MAAM,CACV,CAAC;EAED,OACEJ,iEAAA,CAACsC,QAAQ;IACPZ,KAAK,EAAGqB,IAAI,CAACrB,KAAO;IACpBa,aAAa,EAAGK,YAAc;IAC9BJ,QAAQ,EAAGA,QAAU;IACrB7B,SAAS,EAAGA,SAAW;IACvBwB,QAAQ,EAAGA,QAAU;IACrBP,QAAQ,EAAGA,QAAU;IACrBa,MAAM,EAAGT;EAAY,CACtB,CAAC;AAEN;AAEO,SAASM,QAAQA,CAAE;EACEZ,KAAK;EACLa,aAAa;EACbC,QAAQ;EACR7B,SAAS;EACTwB,QAAQ;EACRP,QAAQ;EACRa;AACF,CAAC,EAAG;EAC5B,OACEzC,iEAAA;IAAKC,SAAS,EAAC;EAAmB,GAChCD,iEAAA,CAAClB,8DAAW;IACVoE,KAAK,EAAC,aAAa;IACnBC,KAAK,EAAGzB,KAAO;IACf0B,QAAQ,EAAGb;EAAe,CAC3B,CAAC,EACA5B,SAAS,GACTX,iEAAA;IAAKC,SAAS,EAAC;EAAY,GAAC,SAAO,EAAEU,SAAS,CAACC,OAAc,CAAC,GAC5D,KAAK,EACTZ,iEAAA;IAAKC,SAAS,EAAC;EAAc,GAC3BD,iEAAA,CAACpB,yDAAM;IACLqC,OAAO,EAAGwB,MAAQ;IAClBzB,OAAO,EAAC,SAAS;IACjBE,QAAQ,EAAG,CAAEsB,QAAQ,IAAIL;EAAU,GAEjCA,QAAQ,GACRnC,iEAAA,CAAAmB,wDAAA,QACEnB,iEAAA,CAACtB,0DAAO,MAAE,CAAC,UAEX,CAAC,GAEH,MAEI,CAAC,EACTsB,iEAAA,CAACpB,yDAAM;IACLqC,OAAO,EAAGW,QAAU;IACpBZ,OAAO,EAAC,UAAU;IAClBE,QAAQ,EAAGiB;EAAU,GACtB,QAEO,CACL,CACF,CAAC;AAEV;AAEA,SAASkB,cAAcA,CAAE;EAAEjD;AAAO,CAAC,EAAG;EACpC,MAAM,CAAEiB,MAAM,EAAEC,OAAO,CAAE,GAAGtC,4DAAQ,CAAE,KAAM,CAAC;EAC7C,MAAMuC,SAAS,GAAGA,CAAA,KAAMD,OAAO,CAAE,IAAK,CAAC;EACvC,MAAME,UAAU,GAAGA,CAAA,KAAMF,OAAO,CAAE,KAAM,CAAC;EACzC,OACEtB,iEAAA,CAAAmB,wDAAA,QACEnB,iEAAA,CAACpB,yDAAM;IAACqC,OAAO,EAAGM,SAAW;IAACP,OAAO,EAAC;EAAS,GAAC,MAExC,CAAC,EACPK,MAAM,IACNrB,iEAAA,CAACnB,wDAAK;IAAC4C,cAAc,EAAGD,UAAY;IAACE,KAAK,EAAC;EAAW,GACpD1B,iEAAA,CAAC0C,YAAY;IACXtC,MAAM,EAAGA,MAAQ;IACjBwB,QAAQ,EAAGJ,UAAY;IACvBK,cAAc,EAAGL;EAAY,CAC9B,CACI,CAET,CAAC;AAEP;AAEA,SAAS8B,UAAUA,CAAA,EAAG;EACpB,MAAM,CAAEC,UAAU,EAAEC,aAAa,CAAE,GAAGxE,4DAAQ,CAAE,EAAG,CAAC;EACpD,MAAM;IAAEyE,KAAK;IAAEC;EAAY,CAAC,GAAGxE,0DAAS,CACpCQ,MAAM,IAAM;IACZ,MAAMiE,KAAK,GAAG,CAAC,CAAC;IAChB,IAAKJ,UAAU,EAAG;MAChBI,KAAK,CAACC,MAAM,GAAGL,UAAU;IAC3B;IACA,MAAMM,YAAY,GAAG,CAAE,UAAU,EAAE,MAAM,EAAEF,KAAK,CAAE;IAClD,OAAO;MACLF,KAAK,EAAE/D,MAAM,CAAEL,uDAAc,CAAC,CAACyE,gBAAgB,CAC7C,GAAGD,YACL,CAAC;MACDH,WAAW,EAAEhE,MAAM,CAAEL,uDAAc,CAAC,CAAC0E,qBAAqB,CACxD,kBAAkB,EAClBF,YACF;IACF,CAAC;EACH,CAAC,EACD,CAAEN,UAAU,CACd,CAAC;EAED,OACEvD,iEAAA,cACEA,iEAAA;IAAKC,SAAS,EAAC;EAAe,GAC5BD,iEAAA,CAACvB,gEAAa;IACZ2E,QAAQ,EAAGI,aAAe;IAC1BL,KAAK,EAAGI;EAAY,CACrB,CAAC,EACFvD,iEAAA,CAACoB,gBAAgB,MAAE,CAChB,CAAC,EACNpB,iEAAA,CAACgE,SAAS;IAACN,WAAW,EAAGA,WAAa;IAACD,KAAK,EAAGA;EAAO,CAAE,CAAC,EACzDzD,iEAAA,CAACR,aAAa,MAAE,CACb,CAAC;AAEV;AAEA,SAASwE,SAASA,CAAE;EAAEN,WAAW;EAAED;AAAM,CAAC,EAAG;EAC3C,IAAK,CAAEC,WAAW,EAAG;IACnB,OAAO1D,iEAAA,CAACtB,0DAAO,MAAE,CAAC;EACpB;EACA,IAAK,CAAE+E,KAAK,EAAEQ,MAAM,EAAG;IACrB,OAAOjE,iEAAA,cAAK,YAAe,CAAC;EAC9B;EAEA,OACEA,iEAAA;IAAOC,SAAS,EAAC;EAAqD,GACpED,iEAAA,gBACAA,iEAAA,aACEA,iEAAA,aAAI,OAAS,CAAC,EACdA,iEAAA;IAAIkE,KAAK,EAAG;MAAEC,KAAK,EAAE;IAAI;EAAG,GAAC,SAAW,CACtC,CACG,CAAC,EACRnE,iEAAA,gBACEyD,KAAK,EAAEW,GAAG,CAAIrB,IAAI,IAClB/C,iEAAA;IAAIqE,GAAG,EAAGtB,IAAI,CAACuB;EAAI,GACjBtE,iEAAA,aAAMT,wEAAc,CAAEwD,IAAI,CAACrB,KAAK,CAAC6C,QAAS,CAAO,CAAC,EAClDvE,iEAAA,aACEA,iEAAA;IAAKC,SAAS,EAAC;EAAc,GAC3BD,iEAAA,CAACqD,cAAc;IAACjD,MAAM,EAAG2C,IAAI,CAACuB;EAAI,CAAE,CAAC,EACrCtE,iEAAA,CAACG,gBAAgB;IAACC,MAAM,EAAG2C,IAAI,CAACuB;EAAI,CAAE,CACnC,CACH,CACF,CACJ,CACK,CACF,CAAC;AAEZ;AAEAE,MAAM,CAACC,gBAAgB,CACrB,MAAM,EACN,YAAY;EACVxF,0DAAM,CACJe,iEAAA,CAACsD,UAAU,MAAE,CAAC,EACdoB,QAAQ,CAACC,aAAa,CAAE,yBAA0B,CACpD,CAAC;AACH,CAAC,EACD,KACF,CAAC,C","sources":["webpack://09-code-data-basics-esnext/external window [\"wp\",\"components\"]","webpack://09-code-data-basics-esnext/external window [\"wp\",\"coreData\"]","webpack://09-code-data-basics-esnext/external window [\"wp\",\"data\"]","webpack://09-code-data-basics-esnext/external window [\"wp\",\"element\"]","webpack://09-code-data-basics-esnext/external window [\"wp\",\"htmlEntities\"]","webpack://09-code-data-basics-esnext/external window [\"wp\",\"notices\"]","webpack://09-code-data-basics-esnext/webpack/bootstrap","webpack://09-code-data-basics-esnext/webpack/runtime/compat get default export","webpack://09-code-data-basics-esnext/webpack/runtime/define property getters","webpack://09-code-data-basics-esnext/webpack/runtime/hasOwnProperty shorthand","webpack://09-code-data-basics-esnext/webpack/runtime/make namespace object","webpack://09-code-data-basics-esnext/./src/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\r\n  SearchControl,\r\n  Spinner,\r\n  SnackbarList,\r\n  Button,\r\n  Modal,\r\n  TextControl,\r\n} from '@wordpress/components';\r\nimport { useEffect, useState, render } from '@wordpress/element';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as coreDataStore } from '@wordpress/core-data';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\n\r\nfunction Notifications() {\r\n  const notices = useSelect(\r\n    ( select ) => select( noticesStore ).getNotices(),\r\n    []\r\n  );\r\n  const { removeNotice } = useDispatch( noticesStore );\r\n  const snackbarNotices = notices.filter(\r\n    ( { type } ) => type === 'snackbar'\r\n  );\r\n  return (\r\n    <SnackbarList\r\n      notices={ snackbarNotices }\r\n      className=\"components-editor-notices__snackbar\"\r\n      onRemove={ removeNotice }\r\n    />\r\n  );\r\n}\r\n\r\nconst DeletePageButton = ( { pageId } ) => {\r\n  const { createSuccessNotice, createErrorNotice } =\r\n    useDispatch( noticesStore );\r\n  // useSelect returns a list of selectors if you pass the store handle\r\n  // instead of a callback:\r\n  const { getLastEntityDeleteError } = useSelect( coreDataStore );\r\n  const handleDelete = async () => {\r\n    const success = await deleteEntityRecord( 'postType', 'page', pageId );\r\n    if ( success ) {\r\n      // Tell the user the operation succeeded:\r\n      createSuccessNotice( 'The page was deleted!', {\r\n        type: 'snackbar',\r\n      } );\r\n    } else {\r\n      // We use the selector directly to get the fresh error *after* the deleteEntityRecord\r\n      // have failed.\r\n      const lastError = getLastEntityDeleteError(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      );\r\n      const message =\r\n        ( lastError?.message || 'There was an error.' ) +\r\n        ' Please refresh the page and try again.';\r\n      // Tell the user how exactly the operation has failed:\r\n      createErrorNotice( message, {\r\n        type: 'snackbar',\r\n      } );\r\n    }\r\n  };\r\n  const { deleteEntityRecord } = useDispatch( coreDataStore );\r\n  const { isDeleting, error } = useSelect(\r\n    ( select ) => ( {\r\n      isDeleting: select( coreDataStore ).isDeletingEntityRecord(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      ),\r\n      error: select( coreDataStore ).getLastEntityDeleteError(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      ),\r\n    } ),\r\n    [ pageId ]\r\n  );\r\n  useEffect( () => {\r\n    if ( error ) {\r\n      // Display the error\r\n    }\r\n  }, [ error ] );\r\n  return (\r\n    <Button\r\n      variant=\"primary\"\r\n      onClick={ handleDelete }\r\n      disabled={ isDeleting }\r\n    >\r\n      { isDeleting ? (\r\n        <>\r\n          <Spinner />\r\n          Deleting...\r\n        </>\r\n      ) : (\r\n        'Delete'\r\n      ) }\r\n    </Button>\r\n  );\r\n};\r\n\r\nfunction CreatePageButton() {\r\n  const [ isOpen, setOpen ] = useState( false );\r\n  const openModal = () => setOpen( true );\r\n  const closeModal = () => setOpen( false );\r\n  return (\r\n    <>\r\n      <Button onClick={ openModal } variant=\"primary\">\r\n        Create a new Page\r\n      </Button>\r\n      { isOpen && (\r\n        <Modal onRequestClose={ closeModal } title=\"Create a new page\">\r\n          <CreatePageForm\r\n            onCancel={ closeModal }\r\n            onSaveFinished={ closeModal }\r\n          />\r\n        </Modal>\r\n      ) }\r\n    </>\r\n  );\r\n}\r\n\r\nfunction CreatePageForm( { onCancel, onSaveFinished } ) {\r\n  const [ title, setTitle ] = useState();\r\n  const { saveEntityRecord } = useDispatch( coreDataStore );\r\n  const handleSave = async () => {\r\n    const savedRecord = await saveEntityRecord( 'postType', 'page', {\r\n      title,\r\n      status: 'publish',\r\n    } );\r\n    if ( savedRecord ) {\r\n      onSaveFinished();\r\n    }\r\n  };\r\n  const { lastError, isSaving } = useSelect(\r\n    ( select ) => ( {\r\n      // Notice the missing pageId argument:\r\n      lastError: select( coreDataStore ).getLastEntitySaveError(\r\n        'postType',\r\n        'page'\r\n      ),\r\n      // Notice the missing pageId argument\r\n      isSaving: select( coreDataStore ).isSavingEntityRecord(\r\n        'postType',\r\n        'page'\r\n      ),\r\n    } ),\r\n    []\r\n  );\r\n  return (\r\n    <PageForm\r\n      title={ title }\r\n      onChangeTitle={ setTitle }\r\n      hasEdits={ !! title }\r\n      lastError={ lastError }\r\n      isSaving={ isSaving }\r\n      onSave={ handleSave }\r\n      onCancel={ onCancel }\r\n    />\r\n  );\r\n}\r\n\r\nfunction EditPageForm( { pageId, onCancel, onSaveFinished } ) {\r\n  const { editEntityRecord } = useDispatch( coreDataStore );\r\n  const handleChange = ( title ) =>\r\n    editEntityRecord( 'postType', 'page', pageId, { title } );\r\n  const { saveEditedEntityRecord } = useDispatch( coreDataStore );\r\n  const handleSave = async () => {\r\n    const updatedRecord = await saveEditedEntityRecord(\r\n      'postType',\r\n      'page',\r\n      pageId\r\n    );\r\n    if ( updatedRecord ) {\r\n      onSaveFinished();\r\n    }\r\n  };\r\n  const { lastError, page, isSaving, hasEdits } = useSelect(\r\n    ( select ) => ( {\r\n      page: select( coreDataStore ).getEditedEntityRecord(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      ),\r\n      lastError: select( coreDataStore ).getLastEntitySaveError(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      ),\r\n      isSaving: select( coreDataStore ).isSavingEntityRecord(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      ),\r\n      hasEdits: select( coreDataStore ).hasEditsForEntityRecord(\r\n        'postType',\r\n        'page',\r\n        pageId\r\n      ),\r\n    } ),\r\n    [ pageId ]\r\n  );\r\n\r\n  return (\r\n    <PageForm\r\n      title={ page.title }\r\n      onChangeTitle={ handleChange }\r\n      hasEdits={ hasEdits }\r\n      lastError={ lastError }\r\n      isSaving={ isSaving }\r\n      onCancel={ onCancel }\r\n      onSave={ handleSave }\r\n    />\r\n  );\r\n}\r\n\r\nexport function PageForm( {\r\n                            title,\r\n                            onChangeTitle,\r\n                            hasEdits,\r\n                            lastError,\r\n                            isSaving,\r\n                            onCancel,\r\n                            onSave,\r\n                          } ) {\r\n  return (\r\n    <div className=\"my-gutenberg-form\">\r\n      <TextControl\r\n        label=\"Page title:\"\r\n        value={ title }\r\n        onChange={ onChangeTitle }\r\n      />\r\n      { lastError ? (\r\n        <div className=\"form-error\">Error: { lastError.message }</div>\r\n      ) : false }\r\n      <div className=\"form-buttons\">\r\n        <Button\r\n          onClick={ onSave }\r\n          variant=\"primary\"\r\n          disabled={ ! hasEdits || isSaving }\r\n        >\r\n          { isSaving ? (\r\n            <>\r\n              <Spinner />\r\n              Saving\r\n            </>\r\n          ) : (\r\n            'Save'\r\n          ) }\r\n        </Button>\r\n        <Button\r\n          onClick={ onCancel }\r\n          variant=\"tertiary\"\r\n          disabled={ isSaving }\r\n        >\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PageEditButton( { pageId } ) {\r\n  const [ isOpen, setOpen ] = useState( false );\r\n  const openModal = () => setOpen( true );\r\n  const closeModal = () => setOpen( false );\r\n  return (\r\n    <>\r\n      <Button onClick={ openModal } variant=\"primary\">\r\n        Edit\r\n      </Button>\r\n      { isOpen && (\r\n        <Modal onRequestClose={ closeModal } title=\"Edit page\">\r\n          <EditPageForm\r\n            pageId={ pageId }\r\n            onCancel={ closeModal }\r\n            onSaveFinished={ closeModal }\r\n          />\r\n        </Modal>\r\n      ) }\r\n    </>\r\n  );\r\n}\r\n\r\nfunction MyFirstApp() {\r\n  const [ searchTerm, setSearchTerm ] = useState( '' );\r\n  const { pages, hasResolved } = useSelect(\r\n    ( select ) => {\r\n      const query = {};\r\n      if ( searchTerm ) {\r\n        query.search = searchTerm;\r\n      }\r\n      const selectorArgs = [ 'postType', 'page', query ];\r\n      return {\r\n        pages: select( coreDataStore ).getEntityRecords(\r\n          ...selectorArgs\r\n        ),\r\n        hasResolved: select( coreDataStore ).hasFinishedResolution(\r\n          'getEntityRecords',\r\n          selectorArgs\r\n        ),\r\n      };\r\n    },\r\n    [ searchTerm ]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"list-controls\">\r\n        <SearchControl\r\n          onChange={ setSearchTerm }\r\n          value={ searchTerm }\r\n        />\r\n        <CreatePageButton />\r\n      </div>\r\n      <PagesList hasResolved={ hasResolved } pages={ pages } />\r\n      <Notifications />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PagesList( { hasResolved, pages } ) {\r\n  if ( ! hasResolved ) {\r\n    return <Spinner />;\r\n  }\r\n  if ( ! pages?.length ) {\r\n    return <div>No results</div>;\r\n  }\r\n\r\n  return (\r\n    <table className=\"wp-list-table widefat fixed striped table-view-list\">\r\n      <thead>\r\n      <tr>\r\n        <td>Title</td>\r\n        <td style={ { width: 190 } }>Actions</td>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      { pages?.map( ( page ) => (\r\n        <tr key={ page.id }>\r\n          <td>{ decodeEntities( page.title.rendered ) }</td>\r\n          <td>\r\n            <div className=\"form-buttons\">\r\n              <PageEditButton pageId={ page.id } />\r\n              <DeletePageButton pageId={ page.id } />\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      ) ) }\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nwindow.addEventListener(\r\n  'load',\r\n  function () {\r\n    render(\r\n      <MyFirstApp />,\r\n      document.querySelector( '#my-first-gutenberg-app' )\r\n    );\r\n  },\r\n  false\r\n);"],"names":["SearchControl","Spinner","SnackbarList","Button","Modal","TextControl","useEffect","useState","render","useSelect","useDispatch","store","coreDataStore","noticesStore","decodeEntities","Notifications","notices","select","getNotices","removeNotice","snackbarNotices","filter","type","createElement","className","onRemove","DeletePageButton","pageId","createSuccessNotice","createErrorNotice","getLastEntityDeleteError","handleDelete","success","deleteEntityRecord","lastError","message","isDeleting","error","isDeletingEntityRecord","variant","onClick","disabled","Fragment","CreatePageButton","isOpen","setOpen","openModal","closeModal","onRequestClose","title","CreatePageForm","onCancel","onSaveFinished","setTitle","saveEntityRecord","handleSave","savedRecord","status","isSaving","getLastEntitySaveError","isSavingEntityRecord","PageForm","onChangeTitle","hasEdits","onSave","EditPageForm","editEntityRecord","handleChange","saveEditedEntityRecord","updatedRecord","page","getEditedEntityRecord","hasEditsForEntityRecord","label","value","onChange","PageEditButton","MyFirstApp","searchTerm","setSearchTerm","pages","hasResolved","query","search","selectorArgs","getEntityRecords","hasFinishedResolution","PagesList","length","style","width","map","key","id","rendered","window","addEventListener","document","querySelector"],"sourceRoot":""}